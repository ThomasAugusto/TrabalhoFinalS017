<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Solicitar Empr√©stimo</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
    <h2>üì¶ Solicitar Empr√©stimo</h2>

    <form id="formEmprestimo">
        <label for="livros">Selecione Livros (Ctrl/Cmd para m√∫ltiplos):</label>
        <select id="livros" multiple size="5"></select>

        <label for="quantidade">Quantidade:</label>
        <input type="number" id="quantidade" min="1" value="1" required>

        <input type="submit" value="Solicitar Empr√©stimo">
    </form>

    <a href="index.html">‚¨ÖÔ∏è Voltar</a>
</div>

<script src="script.js"></script>
<script>
    window.addEventListener("DOMContentLoaded", function () {
        const select = document.getElementById("livros");
        const livros = getLivros();

        if (livros.length === 0) {
            select.innerHTML = "<option disabled>Nenhum livro dispon√≠vel</option>";
        } else {
            select.innerHTML = livros.map(livro =>
                `<option value="${livro.id}">${livro.nome} - ${livro.autor}</option>`
            ).join("");
        }

        const form = document.getElementById("formEmprestimo");

        form.addEventListener("submit", function (e) {
            e.preventDefault();

            const selecionados = Array.from(select.selectedOptions);
            const quantidade = parseInt(document.getElementById("quantidade").value);

            if (selecionados.length === 0) {
                alert("Selecione ao menos um livro.");
                return;
            }

            const livrosSelecionados = selecionados.map(opt => opt.text);
            alert(`üì¶ Empr√©stimo solicitado de ${quantidade}x para:\n- ${livrosSelecionados.join("\n- ")}`);
        });
    });
</script>
</body>
</html>
